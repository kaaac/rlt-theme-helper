{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "if": {
      "anyOf": [
        {"properties": { "BlockType": { "const": "stack" } }},
        {"properties": { "BlockType": { "const": "dock" } }},
        {"properties": { "BlockType": { "const": "grid" } }},
        {"properties": { "BlockType": { "const": "canvas" } }}
      ]
    },
    "then": {
      "properties": {
        "Items": {
          "type": "array",
          "items": {
            "type": "object",
            "description": "Nested blocks",
            "allOf": [
              { "$ref": "block_canvas.json" },
              { "$ref": "block_component.json" },
              { "$ref": "block_dock_stack.json" },
              { "$ref": "block_grid.json" },
              { "$ref": "block_image.json" },
              { "$ref": "block_items.json" },
              { "$ref": "block_itemstack.json" },
              { "$ref": "block_shape.json" },
              { "$ref": "block_table.json" },
              { "$ref": "block_text.json" },
              { "$ref": "common.json" }
            ]
          },
          "description": "List of nested blocks"
        }
      }
    }
  }